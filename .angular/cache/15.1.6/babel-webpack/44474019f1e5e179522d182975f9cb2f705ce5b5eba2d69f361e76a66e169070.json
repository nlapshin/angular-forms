{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction AppNmModelComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppNmModelComponent_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name must be at least 4 characters long. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppNmModelComponent_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name cannot be Bob. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppNmModelComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, AppNmModelComponent_div_6_div_1_Template, 2, 0, \"div\", 10);\n    i0.ɵɵtemplate(2, AppNmModelComponent_div_6_div_2_Template, 2, 0, \"div\", 10);\n    i0.ɵɵtemplate(3, AppNmModelComponent_div_6_div_3_Template, 2, 0, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.errors == null ? null : _r0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.errors == null ? null : _r0.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.errors == null ? null : _r0.errors[\"forbiddenName\"]);\n  }\n}\nfunction AppNmModelComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const comp_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", comp_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", comp_r7, \" \");\n  }\n}\nfunction AppNmModelComponent_li_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\"\", p_r8.title, \" (\", p_r8.company, \") - \", p_r8.price, \"\");\n  }\n}\nconst _c0 = function () {\n  return {\n    updateOn: \"blur\"\n  };\n};\nexport class Phone {\n  constructor(title, price, company) {\n    this.title = title;\n    this.price = price;\n    this.company = company;\n  }\n}\nexport class AppNmModelComponent {\n  constructor() {\n    this.form = {\n      title: \"\",\n      price: 0,\n      company: \"\"\n    };\n    this.phones = [];\n    this.companies = [\"Apple\", \"Huawei\", \"Xiaomi\", \"Samsung\", \"LG\", \"Motorola\", \"Alcatel\"];\n  }\n  addPhone() {\n    this.phones.push(new Phone(this.form.title, this.form.price, this.form.company));\n  }\n  onTitleChange() {\n    console.log('test');\n  }\n}\nAppNmModelComponent.ɵfac = function AppNmModelComponent_Factory(t) {\n  return new (t || AppNmModelComponent)();\n};\nAppNmModelComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppNmModelComponent,\n  selectors: [[\"app-ng-model\"]],\n  decls: 24,\n  vars: 8,\n  consts: [[1, \"form-group\"], [\"name\", \"title\", \"appForbiddenName\", \"bob\", \"required\", \"\", \"minlength\", \"4\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"title\", \"ngModel\"], [\"class\", \"alert\", 4, \"ngIf\"], [\"type\", \"number\", \"name\", \"price\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"company\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-default\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"alert\"], [4, \"ngIf\"], [3, \"value\"]],\n  template: function AppNmModelComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"label\");\n      i0.ɵɵtext(3, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u043E\\u0434\\u0435\\u043B\\u0438\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 1, 2);\n      i0.ɵɵlistener(\"ngModelChange\", function AppNmModelComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.form.title = $event;\n      })(\"ngModelChange\", function AppNmModelComponent_Template_input_ngModelChange_4_listener() {\n        return ctx.onTitleChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, AppNmModelComponent_div_6_Template, 4, 3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 0)(8, \"label\");\n      i0.ɵɵtext(9, \"\\u0426\\u0435\\u043D\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function AppNmModelComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.form.price = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 0)(12, \"label\");\n      i0.ɵɵtext(13, \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AppNmModelComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.form.company = $event;\n      });\n      i0.ɵɵtemplate(15, AppNmModelComponent_option_15_Template, 2, 2, \"option\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 0)(17, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function AppNmModelComponent_Template_button_click_17_listener() {\n        return ctx.addPhone();\n      });\n      i0.ɵɵtext(18, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\")(20, \"h3\");\n      i0.ɵɵtext(21, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u043D\\u044B\\u0435 \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"ul\");\n      i0.ɵɵtemplate(23, AppNmModelComponent_li_23_Template, 2, 3, \"li\", 8);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.title)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r0.invalid && (_r0.dirty || _r0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.price);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.form.company);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.companies);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.phones);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.RequiredValidator, i2.MinLengthValidator, i2.NgModel],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;IAyBYA,2BAAwC;IACtCA,mCACF;IAAAA,iBAAM;;;;;IACNA,2BAAyC;IACvCA,0DACF;IAAAA,iBAAM;;;;;IACNA,2BAA6C;IAC3CA,qCACF;IAAAA,iBAAM;;;;;IAXNA,8BACgB;IAEhBA,2EAEM;IACNA,2EAEM;IACNA,2EAEM;IAERA,iBAAM;;;;;IAVEA,eAAgC;IAAhCA,yEAAgC;IAGhCA,eAAiC;IAAjCA,0EAAiC;IAGjCA,eAAqC;IAArCA,8EAAqC;;;;;IAcvCA,kCAAuD;IACnDA,YACJ;IAAAA,iBAAS;;;;IAF+BA,+BAAc;IAClDA,eACJ;IADIA,wCACJ;;;;;IASJA,0BAA6B;IAAAA,YAAyC;IAAAA,iBAAK;;;;IAA9CA,eAAyC;IAAzCA,iFAAyC;;;;;;;;AAtDlF,OAAM,MAAOC,KAAK;EAChBC,YAAmBC,KAAa,EACbC,KAAa,EACbC,OAAe;IAFf,UAAK,GAALF,KAAK;IACL,UAAK,GAALC,KAAK;IACL,YAAO,GAAPC,OAAO;EACxB;;AAuDJ,OAAM,MAAOC,mBAAmB;EA9ChCJ;IA+CE,SAAI,GAAU;MACZC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,OAAO,EAAE;KACV;IAED,WAAM,GAAY,EAAE;IACpB,cAAS,GAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,CAAC;;EAE3FE,QAAQ;IACJ,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,IAAIR,KAAK,CAAC,IAAI,CAACS,IAAI,CAACP,KAAK,EAAE,IAAI,CAACO,IAAI,CAACN,KAAK,EAAE,IAAI,CAACM,IAAI,CAACL,OAAO,CAAC,CAAC;EACpF;EAEAM,aAAa;IACXC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EACrB;;AAhBWP,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAQ;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MA3C5BlB,2BAAK;MAEUA,qGAAe;MAAAA,iBAAQ;MAC9BA,mCAA6M;MAApKA;QAAA;MAAA,EAAwB;QAAA,OAAkGmB,mBAAe;MAAA,EAAjH;MAAjEnB,iBAA6M;MAC7MA,oEAaI;MAENA,iBAAM;MACRA,8BAAwB;MACbA,wCAAI;MAAAA,iBAAQ;MACnBA,iCAAkF;MAA3BA;QAAA;MAAA,EAAwB;MAA/EA,iBAAkF;MAEtFA,+BAAwB;MACbA,+FAAa;MAAAA,iBAAQ;MAC5BA,kCAAuE;MAA3BA;QAAA;MAAA,EAA0B;MAClEA,4EAES;MACbA,iBAAS;MAEbA,+BAAwB;MACYA;QAAA,OAASmB,cAAU;MAAA,EAAC;MAACnB,iEAAQ;MAAAA,iBAAS;MAGhFA,4BAAK;MAAIA,oIAAoB;MAAAA,iBAAK;MAC5BA,2BAAI;MACAA,oEAA2E;MAC/EA,iBAAK;;;;MApCwCA,eAAwB;MAAxBA,wCAAwB;MAC3DA,eAAqD;MAArDA,gEAAqD;MAkBJA,eAAwB;MAAxBA,wCAAwB;MAInCA,eAA0B;MAA1BA,0CAA0B;MACxCA,eAAY;MAAZA,uCAAY;MAWxBA,eAAS;MAATA,oCAAS","names":["i0","Phone","constructor","title","price","company","AppNmModelComponent","addPhone","phones","push","form","onTitleChange","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/nik/projects/webinar/angular-forms/src/app/components/ngModel.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\nexport class Phone{\n  constructor(public title: string, \n              public price: number, \n              public company: string)\n  { }\n}\n\nexport interface IForm {\n  title: string;\n  price: number;\n  company: string;\n}\n\n@Component({\n  selector: 'app-ng-model',\n  template: `\n    <div> \n        <div class=\"form-group\">\n            <label>Название модели</label>\n            <input class=\"form-control\" name=\"title\" [(ngModel)]=\"form.title\" [ngModelOptions]=\"{ updateOn: 'blur' }\" #title=\"ngModel\" appForbiddenName=\"bob\" (ngModelChange)=\"onTitleChange()\" required minlength=\"4\" />\n            <div *ngIf=\"title.invalid && (title.dirty || title.touched)\"\n              class=\"alert\">\n\n            <div *ngIf=\"title.errors?.['required']\">\n              Name is required.\n            </div>\n            <div *ngIf=\"title.errors?.['minlength']\">\n              Name must be at least 4 characters long.\n            </div>\n            <div *ngIf=\"title.errors?.['forbiddenName']\">\n              Name cannot be Bob.\n            </div>\n\n          </div>      \n\n          </div>\n        <div class=\"form-group\">\n            <label>Цена</label>\n            <input type=\"number\" class=\"form-control\" name=\"price\" [(ngModel)]=\"form.price\" />\n        </div>\n        <div class=\"form-group\">\n            <label>Производитель</label>\n            <select class=\"form-control\" name=\"company\" [(ngModel)]=\"form.company\">\n                <option  *ngFor=\"let comp of companies\" [value]=\"comp\">\n                    {{comp}}\n                </option>\n            </select>\n        </div>\n        <div class=\"form-group\">\n            <button class=\"btn btn-default\" (click)=\"addPhone()\">Добавить</button>\n        </div>\n  </div>\n  <div><h3>Добавленные элементы</h3>\n        <ul>\n            <li *ngFor=\"let p of phones\">{{p.title}} ({{p.company}}) - {{p.price}}</li>\n        </ul>\n  </div>\n  `\n})\nexport class AppNmModelComponent {\n  form: IForm = {\n    title: \"\",\n    price: 0,\n    company: \"\",\n  }\n\n  phones: Phone[] = [];\n  companies: string[] = [\"Apple\", \"Huawei\", \"Xiaomi\", \"Samsung\", \"LG\", \"Motorola\", \"Alcatel\"];\n  \n  addPhone(){\n      this.phones.push(new Phone(this.form.title, this.form.price, this.form.company));\n  }\n\n  onTitleChange() {\n    console.log('test')\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}